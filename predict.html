<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
    <script src="https://unpkg.com/ml5@latest/dist/ml5.min.js"></script>
<!--    <script src="./predict.js"></script>-->
</head>
<body>
<input type="number" id="battery" placeholder="battery"/>
<input type="number" id="weight" placeholder="weight"/>
<button id="btn">Voorspel Gewicht!</button>
<div id="result"></div>

</body>

<script>


    const nn = ml5.neuralNetwork({ task: 'regression', debug: true })

    let battery = document.getElementById('battery')
    let weight = document.getElementById('weight')

    nn.load('./model/model.json', modelLoaded)

    function modelLoaded() {
        //yay
    }

    async function makePrediction() {
        let valueBattery = parseInt(battery.value)
        let valueWeight = parseInt(weight.value)

        const results = await nn.predict({ battery: valueBattery, weight: valueWeight })

        // console.log(`Geschatte opslag: ${results[0].storage}`)
        document.getElementById('result').innerHTML = `Geschatte dikte: ${results[0].thickness} milimeter`
    }

    document.getElementById('btn').addEventListener('click', makePrediction)


</script>
</html>